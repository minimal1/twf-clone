# TWF Clone í•™ìŠµ ê°€ì´ë“œ

ì´ ê°€ì´ë“œëŠ” TUI íŒŒì¼ ë¸Œë¼ìš°ì €ë¥¼ ë‹¨ê³„ë³„ë¡œ í´ë¡  ì½”ë”©í•˜ë©´ì„œ í„°ë¯¸ë„ í”„ë¡œê·¸ë˜ë°ê³¼ Go ì–¸ì–´ë¥¼ í•™ìŠµí•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

## ğŸ¯ í•™ìŠµ ëª©í‘œ

- **í„°ë¯¸ë„ í”„ë¡œê·¸ë˜ë°**: raw ëª¨ë“œ, ì´ë²¤íŠ¸ ì²˜ë¦¬, í™”ë©´ ì œì–´
- **Go ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë°**: íŒŒì¼ ì‹œìŠ¤í…œ, ë™ì‹œì„±, ë©”ëª¨ë¦¬ ê´€ë¦¬
- **ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜**: MVC íŒ¨í„´, ëª¨ë“ˆí™”, ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„
- **ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤**: TUI ë””ìì¸, ìƒí˜¸ì‘ìš©, ì‚¬ìš©ì„±

## ğŸ“š ì‚¬ì „ ì¤€ë¹„ í•™ìŠµ

### 1. Go ê¸°ë³¸ ê°œë… ë³µìŠµ
- êµ¬ì¡°ì²´ì™€ ë©”ì„œë“œ
- ì¸í„°í˜ì´ìŠ¤ì™€ ì„ë² ë”©
- ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´
- íŒ¨í‚¤ì§€ì™€ ëª¨ë“ˆ ì‹œìŠ¤í…œ

### 2. í„°ë¯¸ë„ ê¸°ë³¸ ì´í•´
- ANSI ì´ìŠ¤ì¼€ì´í”„ ì‹œí€€ìŠ¤
- í„°ë¯¸ë„ ì…ì¶œë ¥ ëª¨ë¸
- Raw ëª¨ë“œì™€ Cooked ëª¨ë“œ
- ì‹ í˜¸ ì²˜ë¦¬ (SIGINT, SIGTERM)

## ğŸ—ï¸ ë‹¨ê³„ë³„ êµ¬í˜„ ê°€ì´ë“œ

## 1ë‹¨ê³„: í”„ë¡œì íŠ¸ ê¸°ì´ˆ ì„¤ì • (1-2ì‹œê°„)

### ëª©í‘œ
- Go ëª¨ë“ˆ ì´ˆê¸°í™”
- ê¸°ë³¸ í”„ë¡œì íŠ¸ êµ¬ì¡° ì´í•´
- ì²« ë²ˆì§¸ ì‹¤í–‰ ê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨ ì‘ì„±

### êµ¬í˜„ ë‚´ìš©

#### 1.1 Go ëª¨ë“ˆ ì´ˆê¸°í™”
```bash
cd twf-clone
go mod init twf-clone
```

#### 1.2 ê¸°ë³¸ main.go ì‘ì„±
```go
// cmd/twf/main.go
package main

import (
    "fmt"
    "os"
)

func main() {
    fmt.Println("TWF Clone - TUI File Browser")

    // ëª…ë ¹í–‰ ì¸ì í™•ì¸
    args := os.Args[1:]
    if len(args) > 0 {
        fmt.Printf("Starting path: %s\n", args[0])
    } else {
        fmt.Println("Starting path: current directory")
    }
}
```

### í•™ìŠµ í¬ì¸íŠ¸
- Go ëª¨ë“ˆ ì‹œìŠ¤í…œì˜ ì´í•´
- ëª…ë ¹í–‰ ì¸ì ì²˜ë¦¬
- íŒ¨í‚¤ì§€ êµ¬ì¡°ì˜ ì¤‘ìš”ì„±

### ì‹¤ìŠµ ê³¼ì œ
1. í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•´ë³´ê³  ë‹¤ì–‘í•œ ì¸ìë¡œ í…ŒìŠ¤íŠ¸
2. í˜„ì¬ ì‘ì—… ë””ë ‰í† ë¦¬ë¥¼ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€
3. íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë¡œì§ ì¶”ê°€

---

## 2ë‹¨ê³„: í„°ë¯¸ë„ ê¸°ë³¸ ì œì–´ (3-4ì‹œê°„)

### ëª©í‘œ
- í„°ë¯¸ë„ raw ëª¨ë“œ ì„¤ì •
- í‚¤ë³´ë“œ ì…ë ¥ ì²˜ë¦¬
- ê¸°ë³¸ì ì¸ í™”ë©´ ì œì–´

### êµ¬í˜„ ë‚´ìš©

#### 2.1 í„°ë¯¸ë„ êµ¬ì¡°ì²´ ì •ì˜
```go
// internal/terminal/terminal.go
package terminal

import (
    "os"
    "golang.org/x/crypto/ssh/terminal"
)

type Terminal struct {
    input         *os.File
    output        *os.File
    originalState *terminal.State
    rows          int
    cols          int
}

func NewTerminal() (*Terminal, error) {
    // í„°ë¯¸ë„ ì´ˆê¸°í™” ë¡œì§
}

func (t *Terminal) EnterRawMode() error {
    // Raw ëª¨ë“œ ì§„ì…
}

func (t *Terminal) ExitRawMode() error {
    // ì›ë˜ ìƒíƒœë¡œ ë³µêµ¬
}
```

#### 2.2 í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ì²˜ë¦¬
```go
// internal/terminal/event.go
package terminal

type EventType int

const (
    KeyPress EventType = iota
    Resize
    Error
)

type Event struct {
    Type EventType
    Key  rune
    Raw  []byte
}

func (t *Terminal) ReadEvent() (Event, error) {
    // í‚¤ë³´ë“œ ì…ë ¥ ì½ê¸° ë° ì´ë²¤íŠ¸ ë³€í™˜
}
```

### í•™ìŠµ í¬ì¸íŠ¸
- í„°ë¯¸ë„ì˜ cooked ëª¨ë“œ vs raw ëª¨ë“œ
- ë…¼ë¸”ë¡œí‚¹ I/Oì˜ í•„ìš”ì„±
- ì‹œìŠ¤í…œ í˜¸ì¶œê³¼ Goì˜ ì¶”ìƒí™”

### ì‹¤ìŠµ ê³¼ì œ
1. 'q' í‚¤ë¥¼ ëˆ„ë¥´ë©´ ì¢…ë£Œë˜ëŠ” ë£¨í”„ êµ¬í˜„
2. í™”ì‚´í‘œ í‚¤ ì…ë ¥ ê°ì§€ ë° ì¶œë ¥
3. Ctrl+C ì‹œê·¸ë„ ì²˜ë¦¬

---

## 3ë‹¨ê³„: íŒŒì¼ ì‹œìŠ¤í…œ ì¸í„°í˜ì´ìŠ¤ (4-5ì‹œê°„)

### ëª©í‘œ
- íŒŒì¼ê³¼ ë””ë ‰í† ë¦¬ ì •ë³´ ì½ê¸°
- íŠ¸ë¦¬ ìë£Œêµ¬ì¡° êµ¬í˜„
- ì¬ê·€ì  ë””ë ‰í† ë¦¬ íƒìƒ‰

### êµ¬í˜„ ë‚´ìš©

#### 3.1 FileTree êµ¬ì¡°ì²´
```go
// internal/filetree/filetree.go
package filetree

import (
    "os"
    "path/filepath"
)

type FileTree struct {
    Path     string
    Name     string
    IsDir    bool
    Size     int64
    Children []*FileTree
    Parent   *FileTree
    Expanded bool
}

func NewFileTree(path string) (*FileTree, error) {
    // íŒŒì¼ ì •ë³´ë¥¼ ì½ì–´ì„œ FileTree ìƒì„±
}

func (ft *FileTree) LoadChildren() error {
    // í•˜ìœ„ ë””ë ‰í† ë¦¬ì™€ íŒŒì¼ë“¤ì„ ë¡œë“œ
}
```

#### 3.2 íŠ¸ë¦¬ íƒìƒ‰ ë©”ì„œë“œ
```go
func (ft *FileTree) Walk(fn func(*FileTree) error) error {
    // íŠ¸ë¦¬ë¥¼ ìˆœíšŒí•˜ë©° í•¨ìˆ˜ ì ìš©
}

func (ft *FileTree) Find(name string) *FileTree {
    // íŠ¹ì • ì´ë¦„ì˜ íŒŒì¼/ë””ë ‰í† ë¦¬ ì°¾ê¸°
}
```

### í•™ìŠµ í¬ì¸íŠ¸
- íŒŒì¼ ì‹œìŠ¤í…œ API (os.Stat, os.ReadDir)
- íŠ¸ë¦¬ ìë£Œêµ¬ì¡°ì™€ ì¬ê·€ ì•Œê³ ë¦¬ì¦˜
- ì§€ì—° ë¡œë”© (lazy loading) íŒ¨í„´

### ì‹¤ìŠµ ê³¼ì œ
1. ë””ë ‰í† ë¦¬ í¬ê¸° ê³„ì‚° ê¸°ëŠ¥
2. íŒŒì¼ íƒ€ì…ë³„ ë¶„ë¥˜ (í™•ì¥ì ê¸°ë°˜)
3. ìˆ¨ê¹€ íŒŒì¼ í•„í„°ë§ ì˜µì…˜

---

## 4ë‹¨ê³„: ê¸°ë³¸ UI ë Œë”ë§ (5-6ì‹œê°„)

### ëª©í‘œ
- íŒŒì¼ ëª©ë¡ì„ í„°ë¯¸ë„ì— ì¶œë ¥
- ì»¤ì„œ ì´ë™ê³¼ ì„ íƒ ìƒíƒœ í‘œì‹œ
- ìŠ¤í¬ë¡¤ ê¸°ëŠ¥ êµ¬í˜„

### êµ¬í˜„ ë‚´ìš©

#### 4.1 ë·° ì¸í„°í˜ì´ìŠ¤
```go
// internal/views/view.go
package views

type View interface {
    Render() ([]string, error)
    HandleEvent(event terminal.Event) error
    GetCursor() (int, int)
}
```

#### 4.2 íŠ¸ë¦¬ ë·° êµ¬í˜„
```go
// internal/views/tree_view.go
package views

type TreeView struct {
    fileTree *filetree.FileTree
    cursor   int
    scroll   int
    height   int
    width    int
}

func (tv *TreeView) Render() ([]string, error) {
    // íŠ¸ë¦¬ë¥¼ ë¬¸ìì—´ ë¼ì¸ë“¤ë¡œ ë³€í™˜
}

func (tv *TreeView) MoveCursor(delta int) {
    // ì»¤ì„œ ì´ë™ ë° ìŠ¤í¬ë¡¤ ì¡°ì •
}
```

### í•™ìŠµ í¬ì¸íŠ¸
- ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ ì„¤ê³„
- í„°ë¯¸ë„ ì¢Œí‘œê³„ì™€ ë Œë”ë§
- ë·°í¬íŠ¸ì™€ ìŠ¤í¬ë¡¤ë§ ê°œë…

### ì‹¤ìŠµ ê³¼ì œ
1. íŠ¸ë¦¬ ë“¤ì—¬ì“°ê¸°ì™€ ì—°ê²°ì„  í‘œì‹œ
2. íŒŒì¼ê³¼ ë””ë ‰í† ë¦¬ ì•„ì´ì½˜ ì¶”ê°€
3. ìƒ‰ìƒ ì½”ë”© (ë””ë ‰í† ë¦¬, ì‹¤í–‰íŒŒì¼ ë“±)

---

## 5ë‹¨ê³„: ìƒíƒœ ê´€ë¦¬ (3-4ì‹œê°„)

### ëª©í‘œ
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ ìƒíƒœ ê´€ë¦¬
- ì´ë²¤íŠ¸ì™€ ìƒíƒœ ë³€ê²½ì˜ ë¶„ë¦¬
- ì»¤ì„œ ìœ„ì¹˜ì™€ ì„ íƒ ìƒíƒœ ì¶”ì 

### êµ¬í˜„ ë‚´ìš©

#### 5.1 ìƒíƒœ êµ¬ì¡°ì²´
```go
// internal/state/state.go
package state

type State struct {
    RootTree     *filetree.FileTree
    CurrentNode  *filetree.FileTree
    CursorPos    int
    ScrollOffset int
    Selection    []*filetree.FileTree
}

func NewState(rootPath string) (*State, error) {
    // ì´ˆê¸° ìƒíƒœ ìƒì„±
}
```

#### 5.2 ìƒíƒœ ë³€ê²½ ë©”ì„œë“œ
```go
func (s *State) MoveCursor(direction int) {
    // ì»¤ì„œ ì´ë™ ë¡œì§
}

func (s *State) ToggleExpand() {
    // ë””ë ‰í† ë¦¬ í™•ì¥/ì¶•ì†Œ
}

func (s *State) SelectCurrent() {
    // í˜„ì¬ í•­ëª© ì„ íƒ
}
```

### í•™ìŠµ í¬ì¸íŠ¸
- ìƒíƒœ ê´€ë¦¬ íŒ¨í„´
- ë¶ˆë³€ì„±ê³¼ ìƒíƒœ ë³µì‚¬
- ì´ë²¤íŠ¸ ì†Œì‹± ê°œë…

---

## 6ë‹¨ê³„: í†µí•© ë° ë©”ì¸ ë£¨í”„ (4-5ì‹œê°„)

### ëª©í‘œ
- ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ì—°ê²°
- ì´ë²¤íŠ¸ ë£¨í”„ êµ¬í˜„
- ì‚¬ìš©ì ì…ë ¥ì— ë”°ë¥¸ ë™ì‘ ì—°ê²°

### êµ¬í˜„ ë‚´ìš©

#### 6.1 ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°ì²´
```go
// cmd/twf/app.go
package main

type App struct {
    terminal *terminal.Terminal
    state    *state.State
    treeView *views.TreeView
}

func (app *App) Run() error {
    // ë©”ì¸ ì´ë²¤íŠ¸ ë£¨í”„
    for {
        // 1. ì´ë²¤íŠ¸ ì½ê¸°
        // 2. ìƒíƒœ ì—…ë°ì´íŠ¸
        // 3. í™”ë©´ ë Œë”ë§
        // 4. ì¢…ë£Œ ì¡°ê±´ í™•ì¸
    }
}
```

### í•™ìŠµ í¬ì¸íŠ¸
- ì´ë²¤íŠ¸ ë£¨í”„ íŒ¨í„´
- ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ (SoC)
- ì—ëŸ¬ ì „íŒŒì™€ ë³µêµ¬

---

## 7ë‹¨ê³„: ê³ ê¸‰ ê¸°ëŠ¥ (ê° 2-3ì‹œê°„)

### 7.1 íŒŒì¼ ë¯¸ë¦¬ë³´ê¸°
- í…ìŠ¤íŠ¸ íŒŒì¼ ë‚´ìš© í‘œì‹œ
- ì´ë¯¸ì§€/ë°”ì´ë„ˆë¦¬ íŒŒì¼ ì •ë³´
- ë¶„í•  í™”ë©´ ë ˆì´ì•„ì›ƒ

### 7.2 ê²€ìƒ‰ ê¸°ëŠ¥
- íŒŒì¼ëª… í•„í„°ë§
- ì •ê·œí‘œí˜„ì‹ ì§€ì›
- ì‹¤ì‹œê°„ ê²€ìƒ‰

### 7.3 ì„¤ì • ì‹œìŠ¤í…œ
- í‚¤ë°”ì¸ë”© ì»¤ìŠ¤í„°ë§ˆì´ì§•
- ìƒ‰ìƒ í…Œë§ˆ
- ì„¤ì • íŒŒì¼ ë¡œë“œ/ì €ì¥

### 7.4 ì„±ëŠ¥ ìµœì í™”
- ì§€ì—° ë¡œë”© ìµœì í™”
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
- ëŒ€ìš©ëŸ‰ ë””ë ‰í† ë¦¬ ì²˜ë¦¬

## ğŸ”§ ë””ë²„ê¹… ë° í…ŒìŠ¤íŠ¸

### ë¡œê¹… ì‹œìŠ¤í…œ
```go
import "go.uber.org/zap"

logger, _ := zap.NewDevelopment()
logger.Info("Debug information",
    zap.String("path", currentPath),
    zap.Int("cursor", cursorPos))
```

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```go
// internal/filetree/filetree_test.go
func TestFileTreeCreation(t *testing.T) {
    tree, err := NewFileTree("/tmp")
    assert.NoError(t, err)
    assert.NotNil(t, tree)
}
```

## ğŸ¨ í™•ì¥ ì•„ì´ë””ì–´

1. **í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ**: ì™¸ë¶€ ëª…ë ¹ í†µí•© (fzf, ripgrep)
2. **ë„¤íŠ¸ì›Œí¬ íŒŒì¼ ì‹œìŠ¤í…œ**: SFTP, FTP ì§€ì›
3. **ì••ì¶• íŒŒì¼ ì§€ì›**: ZIP, TAR ë‚´ë¶€ íƒìƒ‰
4. **Git í†µí•©**: ë³€ê²½ ìƒíƒœ, ë¸Œëœì¹˜ ì •ë³´ í‘œì‹œ
5. **ë¶ë§ˆí¬ ê¸°ëŠ¥**: ìì£¼ ì‚¬ìš©í•˜ëŠ” ê²½ë¡œ ì €ì¥

## ğŸ“– ì¶”ê°€ í•™ìŠµ ìë£Œ

- **í„°ë¯¸ë„ í”„ë¡œê·¸ë˜ë°**: "The Linux Programming Interface" 24ì¥
- **Go ë™ì‹œì„±**: "Concurrency in Go" by Katherine Cox-Buday
- **TUI ë””ìì¸**: ncurses ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì„œ
- **íŒŒì¼ ì‹œìŠ¤í…œ**: "Understanding the Linux Kernel" 12ì¥

## ğŸ¤ í”„ë¡œì íŠ¸ ì™„ë£Œ í›„

1. **ì½”ë“œ ë¦¬ë·°**: ì›ë³¸ twfì™€ êµ¬ì¡° ë¹„êµ
2. **ì„±ëŠ¥ ì¸¡ì •**: ë²¤ì¹˜ë§ˆí¬ í…ŒìŠ¤íŠ¸ ì‘ì„±
3. **ë¬¸ì„œí™”**: API ë¬¸ì„œì™€ ì‚¬ìš© ê°€ì´ë“œ
4. **ë°°í¬**: í¬ë¡œìŠ¤ ì»´íŒŒì¼ê³¼ ë°”ì´ë„ˆë¦¬ ë°°í¬

ì´ ê°€ì´ë“œë¥¼ ë”°ë¼ê°€ë©´ì„œ ë‹¨ê³„ë³„ë¡œ êµ¬í˜„í•˜ë©´, TUI í”„ë¡œê·¸ë˜ë°ì˜ í•µì‹¬ ê°œë…ë“¤ì„ ì²´ê³„ì ìœ¼ë¡œ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° ë‹¨ê³„ë§ˆë‹¤ ì¶©ë¶„í•œ ì‹œê°„ì„ íˆ¬ìí•˜ì—¬ ì´í•´í•˜ê³  ë„˜ì–´ê°€ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.